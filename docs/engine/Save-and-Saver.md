# 存档

有关的包：
```
frame.save
frame.controller
```

前排提醒：重新编译游戏会导致之前保存的存档不可用。  
回放功能集成在一起了，在游戏结束后存档再读取就行。

## Save

存档本身。存储所有执行过的Action，下次读取的时候会从头执行一遍。  
同时存储棋盘大小。

## Saver

Saver是个接口，框架默认提供并使用DefaultSaver。如果有需求可以直接覆盖Game.saver。

在调用save时把存档写入磁盘，没啥好说的。

调用load时会检查存档是否合法（是否由当前编译的游戏存储），检查棋盘大小，检查Action是否合法。

以上这些框架都已经做了，不需要自己调用。

唯一需要自己调用的是`Game.saver.checkSize(boolean flag)`，决定是否需要检查存档中的大小和设置的棋盘大小是否一致。